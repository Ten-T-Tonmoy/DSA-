- Prefix: `*+AB-CD`
- Postfix: `AB+CD-*`

---

## **1️⃣ Prefix → Infix**

```cpp
string prefixToInfix(string exp)
{
    stack<string> s;
    for (int i = exp.length() - 1; i >= 0; i--)
    {
        if (!isOperator(exp[i]))
            s.push(string(1, exp[i]));
        else
        {
            string a = s.top(); s.pop();
            string b = s.top(); s.pop();
            s.push("(" + a + exp[i] + b + ")");
        }
    }
    return s.top();
}
```

### **Mechanism:**

1. **Scan from right to left** (because it’s prefix).
2. **Operands** → push onto stack.
3. **Operators** → pop two operands `a` and `b` from stack, combine as `(a operator b)`, then push back.
4. Repeat until the whole expression is processed.

**Step-by-step for `*+AB-CD`:**

- Start from `D` → push `D`
- `C` → push `C`
- `-` → pop `C` & `D` → combine `(C-D)` → push `(C-D)`
- `B` → push `B`
- `A` → push `A`
- `+` → pop `A` & `B` → `(A+B)` → push `(A+B)`
- `*` → pop `(A+B)` & `(C-D)` → `((A+B)*(C-D))` → push result

✅ Output: `((A+B)*(C-D))`

---

## **2️⃣ Postfix → Infix**

```cpp
string postfixToInfix(string exp)
{
    stack<string> s;
    for (int i = 0; i < exp.length(); i++)
    {
        if (!isOperator(exp[i]))
            s.push(string(1, exp[i]));
        else
        {
            string b = s.top(); s.pop();
            string a = s.top(); s.pop();
            s.push("(" + a + exp[i] + b + ")");
        }
    }
    return s.top();
}
```

### **Mechanism:**

1. **Scan from left to right** (because it’s postfix).
2. **Operands** → push onto stack.
3. **Operators** → pop two operands `a` (first popped is `b`, second popped is `a`) → combine `(a operator b)` → push back.

**Step-by-step for `AB+CD-*`:**

- `A` → push `A`
- `B` → push `B`
- `+` → pop `B` & `A` → `(A+B)` → push
- `C` → push `C`
- `D` → push `D`
- `-` → pop `D` & `C` → `(C-D)` → push
- `*` → pop `(C-D)` & `(A+B)` → `((A+B)*(C-D))` → push

✅ Output: `((A+B)*(C-D))`

---

## **3️⃣ Prefix → Postfix**

```cpp
string prefixToPostfix(string exp)
{
    stack<string> s;
    for (int i = exp.length() - 1; i >= 0; i--)
    {
        if (!isOperator(exp[i]))
            s.push(string(1, exp[i]));
        else
        {
            string a = s.top(); s.pop();
            string b = s.top(); s.pop();
            s.push(a + b + exp[i]);
        }
    }
    return s.top();
}
```

### **Mechanism:**

1. **Scan right to left** (prefix).
2. **Operands** → push.
3. **Operators** → pop two operands `a` & `b` → combine `a + b + operator` → push back.

**Step-by-step for `*+AB-CD`:**

- `D` → push `D`
- `C` → push `C`
- `-` → pop `C` & `D` → `C D -` → push
- `B` → push `B`
- `A` → push `A`
- `+` → pop `A` & `B` → `A B +` → push
- `*` → pop `A B +` & `C D -` → `A B + C D - *` → push

✅ Output: `AB+CD-*`

---

## **4️⃣ Postfix → Prefix**

```cpp
string postfixToPrefix(string exp)
{
    stack<string> s;
    for (int i = 0; i < exp.length(); i++)
    {
        if (!isOperator(exp[i]))
            s.push(string(1, exp[i]));
        else
        {
            string b = s.top(); s.pop();
            string a = s.top(); s.pop();
            s.push(exp[i] + a + b);
        }
    }
    return s.top();
}
```

### **Mechanism:**

1. **Scan left to right** (postfix).
2. **Operands** → push.
3. **Operators** → pop two operands `a` & `b` → combine `operator + a + b` → push back.

**Step-by-step for `AB+CD-*`:**

- `A` → push `A`
- `B` → push `B`
- `+` → pop `B` & `A` → `+AB` → push
- `C` → push `C`
- `D` → push `D`
- `-` → pop `D` & `C` → `-CD` → push
- `*` → pop `-CD` & `+AB` → `*+AB-CD` → push

✅ Output: `*+AB-CD`

---

### **Summary Table**

| Conversion       | Scan direction | Pop order | Combine formula    |
| ---------------- | -------------- | --------- | ------------------ |
| Prefix → Infix   | Right → Left   | a,b       | `(a operator b)`   |
| Postfix → Infix  | Left → Right   | b,a       | `(a operator b)`   |
| Prefix → Postfix | Right → Left   | a,b       | `a + b + operator` |
| Postfix → Prefix | Left → Right   | b,a       | `operator + a + b` |

---
